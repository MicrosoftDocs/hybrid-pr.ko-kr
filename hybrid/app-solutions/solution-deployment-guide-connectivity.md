---
title: Azure 및 Azure Stack Hub에서 하이브리드 클라우드 연결 구성
description: Azure 및 Azure Stack Hub를 사용 하 여 하이브리드 클라우드 연결을 구성 하는 방법을 알아봅니다.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 0e1a0fc4fb4110fdb406d4b4b2e72abb8f5412c9
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/17/2020
ms.locfileid: "84910868"
---
# <a name="configure-hybrid-cloud-connectivity-using-azure-and-azure-stack-hub"></a><span data-ttu-id="93a09-103">Azure 및 Azure Stack Hub를 사용 하 여 하이브리드 클라우드 연결 구성</span><span class="sxs-lookup"><span data-stu-id="93a09-103">Configure hybrid cloud connectivity using Azure and Azure Stack Hub</span></span>

<span data-ttu-id="93a09-104">하이브리드 연결 패턴을 사용 하 여 글로벌 Azure 및 Azure Stack 허브의 보안을 사용 하 여 리소스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-104">You can access resources with security in global Azure and Azure Stack Hub using the hybrid connectivity pattern.</span></span>

<span data-ttu-id="93a09-105">이 솔루션에서는 다음을 수행 하는 샘플 환경을 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-105">In this solution, you'll build a sample environment to:</span></span>

> [!div class="checklist"]
> - <span data-ttu-id="93a09-106">데이터를 온-프레미스로 유지 하 여 개인 정보나 규정 요구 사항을 충족 하지만 글로벌 Azure 리소스에 대 한 액세스를 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-106">Keep data on-premises to meet privacy or regulatory requirements but keep access to global Azure resources.</span></span>
> - <span data-ttu-id="93a09-107">글로벌 Azure에서 클라우드 크기 조정 된 앱 배포 및 리소스를 사용 하는 동안 레거시 시스템을 유지 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-107">Maintain a legacy system while using cloud-scaled app deployment and resources in global Azure.</span></span>

> [!Tip]  
> <span data-ttu-id="93a09-108">![hybrid-pillars.png](./media/solution-deployment-guide-cross-cloud-scaling/hybrid-pillars.png)</span><span class="sxs-lookup"><span data-stu-id="93a09-108">![hybrid-pillars.png](./media/solution-deployment-guide-cross-cloud-scaling/hybrid-pillars.png)</span></span>  
> <span data-ttu-id="93a09-109">Microsoft Azure Stack 허브는 Azure의 확장입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-109">Microsoft Azure Stack Hub is an extension of Azure.</span></span> <span data-ttu-id="93a09-110">Azure Stack 허브는 온-프레미스 환경에 클라우드 컴퓨팅의 민첩성과 혁신을 제공 하 여 어디서 나 하이브리드 앱을 빌드하고 배포할 수 있는 유일한 하이브리드 클라우드를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-110">Azure Stack Hub brings the agility and innovation of cloud computing to your on-premises environment, enabling the only hybrid cloud that allows you to build and deploy hybrid apps anywhere.</span></span>  
> 
> <span data-ttu-id="93a09-111">[하이브리드 앱 디자인 고려 사항](overview-app-design-considerations.md) 문서에서는 하이브리드 앱을 디자인, 배포 및 운영 하기 위한 소프트웨어 품질 (배치, 확장성, 가용성, 복원 력, 관리 효율성 및 보안)의 핵심 요소을 검토 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-111">The article [Hybrid app design considerations](overview-app-design-considerations.md) reviews pillars of software quality (placement, scalability, availability, resiliency, manageability, and security) for designing, deploying, and operating hybrid apps.</span></span> <span data-ttu-id="93a09-112">디자인 고려 사항은 하이브리드 앱 디자인을 최적화 하 고 프로덕션 환경에서 문제를 최소화 하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-112">The design considerations assist in optimizing hybrid app design, minimizing challenges in production environments.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="93a09-113">전제 조건</span><span class="sxs-lookup"><span data-stu-id="93a09-113">Prerequisites</span></span>

<span data-ttu-id="93a09-114">하이브리드 연결 배포를 빌드하려면 몇 가지 구성 요소가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-114">A few components are required to build a hybrid connectivity deployment.</span></span> <span data-ttu-id="93a09-115">이러한 구성 요소 중 일부는 준비 하는 데 시간이 걸리므로 적절 하 게 계획 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-115">Some of these components take time to prepare, so plan accordingly.</span></span>

### <a name="azure"></a><span data-ttu-id="93a09-116">Azure</span><span class="sxs-lookup"><span data-stu-id="93a09-116">Azure</span></span>

- <span data-ttu-id="93a09-117">Azure 구독이 아직 없는 경우 시작하기 전에 [체험 계정](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-117">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) before you begin.</span></span>
- <span data-ttu-id="93a09-118">Azure에서 [웹 앱](https://docs.microsoft.com/vsts/build-release/apps/cd/azure/aspnet-core-to-azure-webapp?view=vsts&tabs=vsts) 을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-118">Create a [web app](https://docs.microsoft.com/vsts/build-release/apps/cd/azure/aspnet-core-to-azure-webapp?view=vsts&tabs=vsts) in Azure.</span></span> <span data-ttu-id="93a09-119">솔루션에 필요 하므로 웹 앱 URL을 기록해 둡니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-119">Make note of the web app URL because you'll need it in the solution.</span></span>

### <a name="azure-stack-hub"></a><span data-ttu-id="93a09-120">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="93a09-120">Azure Stack Hub</span></span>

<span data-ttu-id="93a09-121">Azure OEM/하드웨어 파트너는 프로덕션 Azure Stack 허브를 배포할 수 있으며, 모든 사용자가 ASDK (Azure Stack Development Kit)를 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-121">An Azure OEM/hardware partner can deploy a production Azure Stack Hub, and all users can deploy an Azure Stack Development Kit (ASDK).</span></span>

- <span data-ttu-id="93a09-122">프로덕션 Azure Stack 허브를 사용 하거나 ASDK을 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-122">Use your production Azure Stack Hub or deploy the ASDK.</span></span>
   >[!Note]
   ><span data-ttu-id="93a09-123">ASDK 배포에는 최대 7 시간이 걸릴 수 있으므로 적절 하 게 계획 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-123">Deploying the ASDK can take up to 7 hours, so plan accordingly.</span></span>

- <span data-ttu-id="93a09-124">Azure Stack 허브에 [App Service](/azure-stack/operator/azure-stack-app-service-deploy.md) PaaS 서비스를 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-124">Deploy [App Service](/azure-stack/operator/azure-stack-app-service-deploy.md) PaaS services to Azure Stack Hub.</span></span>
- <span data-ttu-id="93a09-125">Azure Stack 허브 환경에서 [계획 및 제품을 만듭니다](/azure-stack/operator/service-plan-offer-subscription-overview.md) .</span><span class="sxs-lookup"><span data-stu-id="93a09-125">[Create plans and offers](/azure-stack/operator/service-plan-offer-subscription-overview.md) in the Azure Stack Hub environment.</span></span>
- <span data-ttu-id="93a09-126">Azure Stack 허브 환경 내에서 [테 넌 트 구독을 만듭니다](/azure-stack/operator/azure-stack-subscribe-plan-provision-vm.md) .</span><span class="sxs-lookup"><span data-stu-id="93a09-126">[Create tenant subscription](/azure-stack/operator/azure-stack-subscribe-plan-provision-vm.md) within the Azure Stack Hub environment.</span></span>

### <a name="azure-stack-hub-components"></a><span data-ttu-id="93a09-127">Azure Stack 허브 구성 요소</span><span class="sxs-lookup"><span data-stu-id="93a09-127">Azure Stack Hub components</span></span>

<span data-ttu-id="93a09-128">Azure Stack 허브 운영자는 App Service를 배포 하 고 계획 및 제안을 만든 다음 테 넌 트 구독을 만들고 Windows Server 2016 이미지를 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-128">An Azure Stack Hub operator must deploy the App Service, create plans and offers, create a tenant subscription, and add the Windows Server 2016 image.</span></span> <span data-ttu-id="93a09-129">이러한 구성 요소가 이미 있는 경우이 솔루션을 시작 하기 전에 요구 사항을 충족 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-129">If you already have these components, make sure they meet the requirements before you start this  solution.</span></span>

<span data-ttu-id="93a09-130">이 솔루션 예제에서는 Azure 및 Azure Stack Hub에 대 한 기본적인 지식이 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-130">This solution example assumes that you have some basic knowledge of Azure and Azure Stack Hub.</span></span> <span data-ttu-id="93a09-131">솔루션을 시작 하기 전에 자세히 알아보려면 다음 문서를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="93a09-131">To learn more before starting the solution, read the following articles:</span></span>

- [<span data-ttu-id="93a09-132">Azure 소개</span><span class="sxs-lookup"><span data-stu-id="93a09-132">Introduction to Azure</span></span>](https://azure.microsoft.com/overview/what-is-azure/)
- [<span data-ttu-id="93a09-133">Azure Stack 허브 주요 개념</span><span class="sxs-lookup"><span data-stu-id="93a09-133">Azure Stack Hub Key Concepts</span></span>](/azure-stack/operator/azure-stack-overview.md)

### <a name="before-you-begin"></a><span data-ttu-id="93a09-134">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="93a09-134">Before you begin</span></span>

<span data-ttu-id="93a09-135">하이브리드 클라우드 연결 구성을 시작 하기 전에 다음 기준을 충족 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-135">Verify that you meet the following criteria before you start configuring hybrid cloud connectivity:</span></span>

- <span data-ttu-id="93a09-136">VPN 장치에 대 한 외부 연결 공용 IPv4 주소가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-136">You need an externally facing public IPv4 address for your VPN device.</span></span> <span data-ttu-id="93a09-137">이 IP 주소는 NAT 뒤에 있을 수 없습니다 (네트워크 주소 변환).</span><span class="sxs-lookup"><span data-stu-id="93a09-137">This IP address can't be located behind a NAT (Network Address Translation).</span></span>
- <span data-ttu-id="93a09-138">모든 리소스는 동일한 지역/위치에 배포 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-138">All resources are deployed in the same region/location.</span></span>

#### <a name="solution-example-values"></a><span data-ttu-id="93a09-139">솔루션 예제 값</span><span class="sxs-lookup"><span data-stu-id="93a09-139">Solution example values</span></span>

<span data-ttu-id="93a09-140">이 솔루션의 예제에서는 다음 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-140">The examples in this solution use the following values.</span></span> <span data-ttu-id="93a09-141">이러한 값을 사용 하 여 테스트 환경을 만들거나이를 참조 하 여 예제를 보다 잘 이해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-141">You can use these values to create a test environment or refer to them for a better understanding of the examples.</span></span> <span data-ttu-id="93a09-142">VPN gateway 설정에 대 한 자세한 내용은 [VPN Gateway 설정 정보](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpn-gateway-settings)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="93a09-142">For more information about VPN gateway settings, see [About VPN Gateway Settings](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpn-gateway-settings).</span></span>

<span data-ttu-id="93a09-143">연결 사양:</span><span class="sxs-lookup"><span data-stu-id="93a09-143">Connection specifications:</span></span>

- <span data-ttu-id="93a09-144">**VPN 유형**: 경로 기반</span><span class="sxs-lookup"><span data-stu-id="93a09-144">**VPN type**: route-based</span></span>
- <span data-ttu-id="93a09-145">**연결 형식**: 사이트 간 (IPsec)</span><span class="sxs-lookup"><span data-stu-id="93a09-145">**Connection type**: site-to-site (IPsec)</span></span>
- <span data-ttu-id="93a09-146">**게이트웨이 유형**: VPN</span><span class="sxs-lookup"><span data-stu-id="93a09-146">**Gateway type**: VPN</span></span>
- <span data-ttu-id="93a09-147">**Azure 연결 이름**: Azure-S2SGateway (포털에서이 값을 자동으로 채우기)</span><span class="sxs-lookup"><span data-stu-id="93a09-147">**Azure connection name**: Azure-Gateway-AzureStack-S2SGateway (the portal will autofill this value)</span></span>
- <span data-ttu-id="93a09-148">**Azure Stack 허브 연결 이름**: Azurestack-S2SGateway (포털에서이 값을 자동으로 채우기)</span><span class="sxs-lookup"><span data-stu-id="93a09-148">**Azure Stack Hub connection name**: AzureStack-Gateway-Azure-S2SGateway (the portal will autofill this value)</span></span>
- <span data-ttu-id="93a09-149">**공유 키**: 연결의 양쪽에서 일치 하는 값을 사용 하 여 VPN 하드웨어와 호환 가능</span><span class="sxs-lookup"><span data-stu-id="93a09-149">**Shared key**: any compatible with VPN hardware, with matching values on both sides of connection</span></span>
- <span data-ttu-id="93a09-150">**구독**: 모든 기본 설정 구독</span><span class="sxs-lookup"><span data-stu-id="93a09-150">**Subscription**: any preferred subscription</span></span>
- <span data-ttu-id="93a09-151">**리소스 그룹**: 인프라</span><span class="sxs-lookup"><span data-stu-id="93a09-151">**Resource group**: Test-Infra</span></span>

<span data-ttu-id="93a09-152">네트워크 및 서브넷 IP 주소:</span><span class="sxs-lookup"><span data-stu-id="93a09-152">Network and subnet IP addresses:</span></span>

| <span data-ttu-id="93a09-153">Azure/Azure Stack 허브 연결</span><span class="sxs-lookup"><span data-stu-id="93a09-153">Azure/Azure Stack Hub Connection</span></span> | <span data-ttu-id="93a09-154">Name</span><span class="sxs-lookup"><span data-stu-id="93a09-154">Name</span></span> | <span data-ttu-id="93a09-155">서브넷</span><span class="sxs-lookup"><span data-stu-id="93a09-155">Subnet</span></span> | <span data-ttu-id="93a09-156">IP 주소</span><span class="sxs-lookup"><span data-stu-id="93a09-156">IP Address</span></span> |
|---|---|---|---|
| <span data-ttu-id="93a09-157">Azure vNet</span><span class="sxs-lookup"><span data-stu-id="93a09-157">Azure vNet</span></span> | <span data-ttu-id="93a09-158">ApplicationvNet</span><span class="sxs-lookup"><span data-stu-id="93a09-158">ApplicationvNet</span></span><br><span data-ttu-id="93a09-159">10.100.102.9/23</span><span class="sxs-lookup"><span data-stu-id="93a09-159">10.100.102.9/23</span></span> | <span data-ttu-id="93a09-160">ApplicationSubnet</span><span class="sxs-lookup"><span data-stu-id="93a09-160">ApplicationSubnet</span></span><br><span data-ttu-id="93a09-161">10.100.102.0/24</span><span class="sxs-lookup"><span data-stu-id="93a09-161">10.100.102.0/24</span></span> |  |
|  |  | <span data-ttu-id="93a09-162">GatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="93a09-162">GatewaySubnet</span></span><br><span data-ttu-id="93a09-163">10.100.103.0/24</span><span class="sxs-lookup"><span data-stu-id="93a09-163">10.100.103.0/24</span></span> |  |
| <span data-ttu-id="93a09-164">Azure Stack 허브 vNet</span><span class="sxs-lookup"><span data-stu-id="93a09-164">Azure Stack Hub vNet</span></span> | <span data-ttu-id="93a09-165">ApplicationvNet</span><span class="sxs-lookup"><span data-stu-id="93a09-165">ApplicationvNet</span></span><br><span data-ttu-id="93a09-166">10.100.100.0/23</span><span class="sxs-lookup"><span data-stu-id="93a09-166">10.100.100.0/23</span></span> | <span data-ttu-id="93a09-167">ApplicationSubnet</span><span class="sxs-lookup"><span data-stu-id="93a09-167">ApplicationSubnet</span></span> <br><span data-ttu-id="93a09-168">10.100.100.0/24</span><span class="sxs-lookup"><span data-stu-id="93a09-168">10.100.100.0/24</span></span> |  |
|  |  | <span data-ttu-id="93a09-169">GatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="93a09-169">GatewaySubnet</span></span> <br><span data-ttu-id="93a09-170">10.100101.0/24</span><span class="sxs-lookup"><span data-stu-id="93a09-170">10.100101.0/24</span></span> |  |
| <span data-ttu-id="93a09-171">Azure Virtual Network 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-171">Azure Virtual Network Gateway</span></span> | <span data-ttu-id="93a09-172">Azure-게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-172">Azure-Gateway</span></span> |  |  |
| <span data-ttu-id="93a09-173">Azure Stack 허브 Virtual Network 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-173">Azure Stack Hub Virtual Network Gateway</span></span> | <span data-ttu-id="93a09-174">AzureStack-게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-174">AzureStack-Gateway</span></span> |  |  |
| <span data-ttu-id="93a09-175">Azure 공용 IP</span><span class="sxs-lookup"><span data-stu-id="93a09-175">Azure Public IP</span></span> | <span data-ttu-id="93a09-176">Azure-GatewayPublicIP</span><span class="sxs-lookup"><span data-stu-id="93a09-176">Azure-GatewayPublicIP</span></span> |  | <span data-ttu-id="93a09-177">생성 시 결정 됨</span><span class="sxs-lookup"><span data-stu-id="93a09-177">Determined at creation</span></span> |
| <span data-ttu-id="93a09-178">Azure Stack 허브 공용 IP</span><span class="sxs-lookup"><span data-stu-id="93a09-178">Azure Stack Hub Public IP</span></span> | <span data-ttu-id="93a09-179">AzureStack-GatewayPublicIP</span><span class="sxs-lookup"><span data-stu-id="93a09-179">AzureStack-GatewayPublicIP</span></span> |  | <span data-ttu-id="93a09-180">생성 시 결정 됨</span><span class="sxs-lookup"><span data-stu-id="93a09-180">Determined at creation</span></span> |
| <span data-ttu-id="93a09-181">Azure 로컬 네트워크 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-181">Azure Local Network Gateway</span></span> | <span data-ttu-id="93a09-182">AzureStack-S2SGateway</span><span class="sxs-lookup"><span data-stu-id="93a09-182">AzureStack-S2SGateway</span></span><br>   <span data-ttu-id="93a09-183">10.100.100.0/23</span><span class="sxs-lookup"><span data-stu-id="93a09-183">10.100.100.0/23</span></span> |  | <span data-ttu-id="93a09-184">Azure Stack 허브 공용 IP 값</span><span class="sxs-lookup"><span data-stu-id="93a09-184">Azure Stack Hub Public IP Value</span></span> |
| <span data-ttu-id="93a09-185">Azure Stack 허브 로컬 네트워크 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="93a09-185">Azure Stack Hub Local Network Gateway</span></span> | <span data-ttu-id="93a09-186">Azure-S2SGateway</span><span class="sxs-lookup"><span data-stu-id="93a09-186">Azure-S2SGateway</span></span><br><span data-ttu-id="93a09-187">10.100.102.0/23</span><span class="sxs-lookup"><span data-stu-id="93a09-187">10.100.102.0/23</span></span> |  | <span data-ttu-id="93a09-188">Azure 공용 IP 값</span><span class="sxs-lookup"><span data-stu-id="93a09-188">Azure Public IP Value</span></span> |

## <a name="create-a-virtual-network-in-global-azure-and-azure-stack-hub"></a><span data-ttu-id="93a09-189">글로벌 Azure 및 Azure Stack 허브에서 가상 네트워크 만들기</span><span class="sxs-lookup"><span data-stu-id="93a09-189">Create a virtual network in global Azure and Azure Stack Hub</span></span>

<span data-ttu-id="93a09-190">포털을 사용 하 여 가상 네트워크를 만들려면 다음 단계를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-190">Use the following steps to create a virtual network by using the portal.</span></span> <span data-ttu-id="93a09-191">이 문서를 솔루션 으로만 사용 하는 경우 다음 [예제 값](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal#values) 을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-191">You can use these [example values](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal#values) if you're using this article as only a  solution.</span></span> <span data-ttu-id="93a09-192">이 문서를 사용 하 여 프로덕션 환경을 구성 하는 경우 예제 설정을 사용자 고유의 값으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-192">If you're using this article to configure a production environment, replace the example settings with  your own values.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="93a09-193">Azure의 IP 주소 또는 Azure Stack 허브 vNet 주소 공간이 중복 되지 않았는지 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-193">You must ensure that there isn't an overlap of IP addresses in Azure or Azure Stack Hub vNet address spaces.</span></span>

<span data-ttu-id="93a09-194">Azure에서 vNet을 만들려면 다음을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-194">To create a vNet in Azure:</span></span>

1. <span data-ttu-id="93a09-195">브라우저를 사용 하 여 [Azure Portal](https://portal.azure.com/) 에 연결 하 고 Azure 계정으로 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-195">Use your browser to connect to the [Azure portal](https://portal.azure.com/) and sign in with your Azure account.</span></span>
2. <span data-ttu-id="93a09-196">**리소스 만들기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-196">Select **Create a resource**.</span></span> <span data-ttu-id="93a09-197">**Marketplace 검색** 필드에 ' 가상 네트워크 '를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-197">In the **Search the marketplace** field, enter 'virtual network'.</span></span> <span data-ttu-id="93a09-198">결과에서 **가상 네트워크** 를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-198">Select **Virtual network** from the results.</span></span>
3. <span data-ttu-id="93a09-199">**배포 모델 선택** 목록에서 **리소스 관리자**을 선택 하 고 **만들기**를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-199">From the **Select a deployment model** list, select **Resource Manager**, and then select **Create**.</span></span>
4. <span data-ttu-id="93a09-200">**가상 네트워크 만들기**에서 VNet 설정을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-200">On **Create virtual network**, configure the VNet settings.</span></span> <span data-ttu-id="93a09-201">필수 필드 이름에는 빨간색 별표 접두사가 붙습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-201">The required fields names are prefixed with a red asterisk.</span></span>  <span data-ttu-id="93a09-202">유효한 값을 입력 하면 별표가 녹색 확인 표시로 바뀝니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-202">When you enter a valid value, the asterisk changes to a green check mark.</span></span>

<span data-ttu-id="93a09-203">Azure Stack 허브에서 vNet을 만들려면 다음을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-203">To create a vNet in Azure Stack Hub:</span></span>

1. <span data-ttu-id="93a09-204">Azure Stack Hub **테 넌 트 포털**을 사용 하 여 위의 단계 (1-4)를 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-204">Repeat the steps above (1-4) using the Azure Stack Hub **tenant portal**.</span></span>

## <a name="add-a-gateway-subnet"></a><span data-ttu-id="93a09-205">게이트웨이 서브넷 추가</span><span class="sxs-lookup"><span data-stu-id="93a09-205">Add a gateway subnet</span></span>

<span data-ttu-id="93a09-206">가상 네트워크를 게이트웨이에 연결 하기 전에 연결 하려는 가상 네트워크에 대 한 게이트웨이 서브넷을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-206">Before connecting your virtual network to a gateway, you need to create the gateway subnet for the virtual network that you want to connect to.</span></span> <span data-ttu-id="93a09-207">게이트웨이 서비스는 게이트웨이 서브넷에서 지정 하는 IP 주소를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-207">The gateway services use the IP addresses you specify in the gateway subnet.</span></span>

<span data-ttu-id="93a09-208">[Azure Portal](https://portal.azure.com/)에서 가상 네트워크 게이트웨이를 만들려는 리소스 관리자 가상 네트워크로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-208">In the [Azure portal](https://portal.azure.com/), navigate to the Resource Manager virtual network where you want to create a virtual network gateway.</span></span>

1. <span data-ttu-id="93a09-209">VNet을 선택 하 여 **가상 네트워크** 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-209">Select the vNet to open the **Virtual network** page.</span></span>
2. <span data-ttu-id="93a09-210">**설정**에서 **서브넷**을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-210">In **SETTINGS**, select **Subnets**.</span></span>
3. <span data-ttu-id="93a09-211">**서브넷** 페이지에서 **+ 게이트웨이 서브넷** 을 선택 하 여 **서브넷 추가** 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-211">On the **Subnets** page, select **+Gateway subnet** to open the **Add subnet** page.</span></span>

    ![게이트웨이 서브넷 추가](media/solution-deployment-guide-connectivity/image4.png)

4. <span data-ttu-id="93a09-213">서브넷의 **이름** 에는 ' gsubnet ' 값이 자동으로 입력 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-213">The **Name** for the subnet is automatically filled in with the value 'GatewaySubnet'.</span></span> <span data-ttu-id="93a09-214">Azure가 서브넷을 게이트웨이 서브넷으로 인식하기 위해 이 값이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-214">This value is required for Azure to recognize the subnet as the gateway subnet.</span></span>
5. <span data-ttu-id="93a09-215">구성 요구 사항과 일치 하도록 제공 된 **주소 범위** 값을 변경 하 고 **확인**을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-215">Change the **Address range** values that are provided to match your configuration requirements and then select **OK**.</span></span>

## <a name="create-a-virtual-network-gateway-in-azure-and-azure-stack"></a><span data-ttu-id="93a09-216">Azure에서 Virtual Network 게이트웨이 만들기 및 Azure Stack</span><span class="sxs-lookup"><span data-stu-id="93a09-216">Create a Virtual Network Gateway in Azure and Azure Stack</span></span>

<span data-ttu-id="93a09-217">Azure에서 가상 네트워크 게이트웨이를 만들려면 다음 단계를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-217">Use the following steps to create a virtual network gateway in Azure.</span></span>

1. <span data-ttu-id="93a09-218">포털 페이지의 왼쪽에서를 선택 **+** 하 고 검색 필드에 ' 가상 네트워크 게이트웨이 '를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-218">On the left side of the portal page, select **+** and enter 'virtual network gateway' in the search field.</span></span>
2. <span data-ttu-id="93a09-219">**결과**에서 **가상 네트워크 게이트웨이**를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-219">In **Results**, select **Virtual network gateway**.</span></span>
3. <span data-ttu-id="93a09-220">**가상 네트워크 게이트웨이**에서 **만들기** 를 선택 하 여 **가상 네트워크 게이트웨이 만들기** 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-220">In **Virtual network gateway**, select **Create** to open the **Create virtual network gateway** page.</span></span>
4. <span data-ttu-id="93a09-221">**가상 네트워크 게이트웨이 만들기**에서 **자습서 예제 값**을 사용 하 여 네트워크 게이트웨이의 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-221">On **Create virtual network gateway**, specify the values for your network gateway using our **Tutorial example values**.</span></span> <span data-ttu-id="93a09-222">다음과 같은 추가 값을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-222">Include the following additional values:</span></span>

   - <span data-ttu-id="93a09-223">**SKU**: 기본</span><span class="sxs-lookup"><span data-stu-id="93a09-223">**SKU**: basic</span></span>
   - <span data-ttu-id="93a09-224">**Virtual Network**: 이전에 만든 가상 네트워크를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-224">**Virtual Network**: Select the virtual network you created earlier.</span></span> <span data-ttu-id="93a09-225">만든 게이트웨이 서브넷이 자동으로 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-225">The gateway subnet you created is automatically selected.</span></span>
   - <span data-ttu-id="93a09-226">**첫 번째 Ip 구성**: 게이트웨이의 공용 ip입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-226">**First IP Configuration**:  The public IP of your gateway.</span></span>
     - <span data-ttu-id="93a09-227">**게이트웨이 ip 구성 만들기**를 선택 하 여 **공용 ip 주소 선택** 페이지로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-227">Select **Create gateway IP configuration**, which takes you to the **Choose public IP address** page.</span></span>
     - <span data-ttu-id="93a09-228">**+ 새로 만들기** 를 선택 하 여 **공용 IP 주소 만들기** 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-228">Select **+Create new** to open the **Create public IP address** page.</span></span>
     - <span data-ttu-id="93a09-229">공용 IP 주소의 **이름을** 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-229">Enter a **Name** for your public IP address.</span></span> <span data-ttu-id="93a09-230">SKU를 **기본**으로 그대로 두고 **확인** 을 선택 하 여 변경 내용을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-230">Leave the SKU as **Basic**, and then select **OK** to save your changes.</span></span>

       > [!Note]
       > <span data-ttu-id="93a09-231">현재 VPN Gateway는 동적 공용 IP 주소 할당만 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-231">Currently, VPN Gateway only supports Dynamic Public IP address allocation.</span></span> <span data-ttu-id="93a09-232">그러나 VPN gateway에 할당 된 후에는 IP 주소가 변경 되는 것을 의미 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-232">However, this doesn't mean that the IP address changes after it's assigned to your VPN gateway.</span></span> <span data-ttu-id="93a09-233">게이트웨이를 삭제하고 다시 만드는 경우에만 공용 IP 주소가 변경됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-233">The only time the public IP address changes is when the gateway is deleted and re-created.</span></span> <span data-ttu-id="93a09-234">VPN gateway에 대 한 크기 조정, 다시 설정 또는 기타 내부 유지 관리/업그레이드는 IP 주소를 변경 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-234">Resizing, resetting, or other internal maintenance/upgrades to your VPN gateway don't change the IP address.</span></span>

5. <span data-ttu-id="93a09-235">게이트웨이 설정을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-235">Verify your gateway settings.</span></span>
6. <span data-ttu-id="93a09-236">**만들기** 를 선택 하 여 VPN gateway를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-236">Select **Create** to create the VPN gateway.</span></span> <span data-ttu-id="93a09-237">게이트웨이 설정의 유효성이 검사 되 고 "가상 네트워크 게이트웨이 배포" 타일이 대시보드에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-237">The gateway settings are validated and the "Deploying Virtual network gateway" tile is shown on your dashboard.</span></span>

   >[!Note]
   ><span data-ttu-id="93a09-238">하나의 게이트웨이를 만드는 데 최대 45분이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-238">Creating a gateway can take up to 45 minutes.</span></span> <span data-ttu-id="93a09-239">완료 상태를 확인하기 위해 포털 페이지를 새로 고쳐야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-239">You may need to refresh your portal page to see the completed status.</span></span>

    <span data-ttu-id="93a09-240">게이트웨이를 만든 후 포털에서 가상 네트워크를 살펴보면 할당 된 IP 주소를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-240">After the gateway is created, you can see the IP address assigned to it by looking at the virtual network in the portal.</span></span> <span data-ttu-id="93a09-241">게이트웨이가 연결된 디바이스로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-241">The gateway appears as a connected device.</span></span> <span data-ttu-id="93a09-242">게이트웨이에 대 한 자세한 정보를 보려면 장치를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-242">To see more information about the gateway, select the device.</span></span>

7. <span data-ttu-id="93a09-243">Azure Stack Hub 배포에서 이전 단계 (1-5)를 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-243">Repeat the previous steps (1-5) on your Azure Stack Hub deployment.</span></span>

## <a name="create-the-local-network-gateway-in-azure-and-azure-stack-hub"></a><span data-ttu-id="93a09-244">Azure에서 로컬 네트워크 게이트웨이 만들기 및 Azure Stack 허브</span><span class="sxs-lookup"><span data-stu-id="93a09-244">Create the local network gateway in Azure and Azure Stack Hub</span></span>

<span data-ttu-id="93a09-245">로컬 네트워크 게이트웨이는 일반적으로 온-프레미스 위치를 가리킵니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-245">The local network gateway typically refers to your on-premises location.</span></span> <span data-ttu-id="93a09-246">Azure 또는 Azure Stack 허브가 참조할 수 있는 이름을 사이트에 지정 하 고 다음을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-246">You give the site a name that Azure or Azure Stack Hub can refer to, and then specify:</span></span>

- <span data-ttu-id="93a09-247">연결을 만드는 온-프레미스 VPN 장치의 IP 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-247">The IP address of the on-premises VPN device that you're creating a connection for.</span></span>
- <span data-ttu-id="93a09-248">Vpn gateway를 통해 VPN 장치로 라우팅되는 IP 주소 접두사입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-248">The IP address prefixes that will be routed through the VPN gateway to the VPN device.</span></span> <span data-ttu-id="93a09-249">사용자가 지정하는 주소 접두사는 온-프레미스 네트워크에 있는 접두사입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-249">The address prefixes you specify are the prefixes located on your on-premises network.</span></span>

  >[!Note]
  ><span data-ttu-id="93a09-250">온-프레미스 네트워크가 변경 되거나 VPN 장치에 대 한 공용 IP 주소를 변경 해야 하는 경우 나중에 이러한 값을 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-250">If your on-premises network changes or you need to change the public IP address for the VPN device, you can update these values later.</span></span>

1. <span data-ttu-id="93a09-251">포털에서 **+ 리소스 만들기**를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-251">In the portal, select **+Create a resource**.</span></span>
2. <span data-ttu-id="93a09-252">검색 상자에서 **로컬 네트워크 게이트웨이**를 입력 한 다음 **enter 키** 를 선택 하 여 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-252">In the search box, enter **Local network gateway**, then select **Enter** to search.</span></span> <span data-ttu-id="93a09-253">결과 목록이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-253">A list of results will display.</span></span>
3. <span data-ttu-id="93a09-254">**로컬 네트워크 게이트웨이**를 선택 하 고 **만들기** 를 선택 하 여 **로컬 네트워크 게이트웨이 만들기** 페이지를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-254">Select **Local network gateway**, then select **Create** to open the **Create local network gateway** page.</span></span>
4. <span data-ttu-id="93a09-255">**로컬 네트워크 게이트웨이 만들기**에서 **자습서 예제 값**을 사용 하 여 로컬 네트워크 게이트웨이의 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-255">On **Create local network gateway**, specify the values for your local network gateway using our **Tutorial example values**.</span></span> <span data-ttu-id="93a09-256">다음과 같은 추가 값을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-256">Include the following additional values:</span></span>

    - <span data-ttu-id="93a09-257">**IP 주소**: Azure 또는 Azure Stack 허브에 연결 하려는 VPN 장치의 공용 IP 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-257">**IP address**: The public IP address of the VPN device that you want Azure or Azure Stack Hub to connect to.</span></span> <span data-ttu-id="93a09-258">Azure가 주소에 도달할 수 있도록 NAT 뒤에 있지 않은 유효한 공용 IP 주소를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-258">Specify a valid public IP address that isn't behind a NAT so Azure can reach the address.</span></span> <span data-ttu-id="93a09-259">현재 IP 주소가 없으면 예제의 값을 자리 표시자로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-259">If you don't have the IP address right now, you can use a value from the example as a placeholder.</span></span> <span data-ttu-id="93a09-260">이전 단계로 이동 하 여 자리 표시자를 VPN 장치의 공용 IP 주소로 바꾸어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-260">You'll have to go back and replace the placeholder with the public IP address of your VPN device.</span></span> <span data-ttu-id="93a09-261">올바른 주소를 제공할 때까지 Azure에서 장치에 연결할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-261">Azure can't connect to the device until you provide a valid address.</span></span>
    - <span data-ttu-id="93a09-262">**주소 공간**:이 로컬 네트워크가 나타내는 네트워크의 주소 범위입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-262">**Address Space**: the address range for the network that this local network represents.</span></span> <span data-ttu-id="93a09-263">주소 공간 범위를 여러 개 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-263">You can add multiple address space ranges.</span></span> <span data-ttu-id="93a09-264">지정 하는 범위가 연결 하려는 다른 네트워크의 범위와 겹치지 않는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-264">Make sure that the ranges you specify don't overlap with ranges of other networks that you want to connect to.</span></span> <span data-ttu-id="93a09-265">Azure는 지정한 주소 범위를 온-프레미스 VPN 디바이스 IP 주소에 라우팅합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-265">Azure will route the address range that you specify to the on-premises VPN device IP address.</span></span> <span data-ttu-id="93a09-266">예 값을 사용 하지 않고 온-프레미스 사이트에 연결 하려는 경우 고유한 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-266">Use your own values if you want to connect to your on-premises site, not an example value.</span></span>
    - <span data-ttu-id="93a09-267">**Bgp 설정 구성**: bgp를 구성 하는 경우에만 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-267">**Configure BGP settings**: Use only when configuring BGP.</span></span> <span data-ttu-id="93a09-268">그렇지 않으면이 옵션을 선택 하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="93a09-268">Otherwise, don't select this option.</span></span>
    - <span data-ttu-id="93a09-269">**구독**: 올바른 구독이 표시 되는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-269">**Subscription**: Verify that the correct subscription is showing.</span></span>
    - <span data-ttu-id="93a09-270">**리소스 그룹**: 사용 하려는 리소스 그룹을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-270">**Resource Group**: Select the resource group that you want to use.</span></span> <span data-ttu-id="93a09-271">새 리소스 그룹을 만들거나 이미 만든 리소스 그룹을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-271">You can either create a new resource group or select one that you've already created.</span></span>
    - <span data-ttu-id="93a09-272">**위치**:이 개체가 생성 될 위치를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-272">**Location**: Select the location that this object will be created in.</span></span> <span data-ttu-id="93a09-273">VNet이 있는 위치와 동일한 위치를 선택할 수 있지만 반드시 그럴 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-273">You may want to select the same location that your VNet resides in, but you're not required to do so.</span></span>
5. <span data-ttu-id="93a09-274">필요한 값의 지정을 마치면 **만들기** 를 선택 하 여 로컬 네트워크 게이트웨이를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-274">When you finish specifying the required values, select **Create** to create the local network gateway.</span></span>
6. <span data-ttu-id="93a09-275">Azure Stack Hub 배포에서이 단계 (1-5)를 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-275">Repeat these steps (1-5) on your Azure Stack Hub deployment.</span></span>

## <a name="configure-your-connection"></a><span data-ttu-id="93a09-276">연결 구성</span><span class="sxs-lookup"><span data-stu-id="93a09-276">Configure your connection</span></span>

<span data-ttu-id="93a09-277">온-프레미스 네트워크에 대 한 사이트 간 연결에는 VPN 장치가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-277">Site-to-site connections to an on-premises network require a VPN device.</span></span> <span data-ttu-id="93a09-278">구성 하는 VPN 장치를 연결 이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-278">The VPN device you configure is referred to as a connection.</span></span> <span data-ttu-id="93a09-279">연결을 구성 하려면 다음이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-279">To configure your connection, you need:</span></span>

- <span data-ttu-id="93a09-280">공유 키 -</span><span class="sxs-lookup"><span data-stu-id="93a09-280">A shared key.</span></span> <span data-ttu-id="93a09-281">이 키는 사이트 간 VPN 연결을 만들 때 지정 하는 것과 동일한 공유 키입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-281">This key is the same shared key that you specify when creating your site-to-site VPN connection.</span></span> <span data-ttu-id="93a09-282">이 예제에서는 기본적인 공유 키를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-282">In our examples, we use a basic shared key.</span></span> <span data-ttu-id="93a09-283">실제로 사용할 키는 좀 더 복잡하게 생성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-283">We recommend that you generate a more complex key to use.</span></span>
- <span data-ttu-id="93a09-284">가상 네트워크 게이트웨이의 공용 IP 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-284">The public IP address of your virtual network gateway.</span></span> <span data-ttu-id="93a09-285">Azure Portal, PowerShell 또는 CLI를 사용하여 공용 IP 주소를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-285">You can view the public IP address by using the Azure portal, PowerShell, or CLI.</span></span> <span data-ttu-id="93a09-286">Azure Portal를 사용 하 여 VPN 게이트웨이의 공용 IP 주소를 찾으려면 가상 네트워크 게이트웨이로 이동한 다음 게이트웨이의 이름을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-286">To find the public IP address of your VPN gateway using the Azure portal, go to virtual network gateways, then select the name of your gateway.</span></span>

<span data-ttu-id="93a09-287">다음 단계를 사용 하 여 가상 네트워크 게이트웨이와 온-프레미스 VPN 장치 간에 사이트 간 VPN 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-287">Use the following steps to create a site-to-site VPN connection between your virtual network gateway and your on-premises VPN device.</span></span>

1. <span data-ttu-id="93a09-288">Azure Portal에서 **+ 리소스 만들기**를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-288">In the Azure portal, select **+Create a resource**.</span></span>
2. <span data-ttu-id="93a09-289">**연결**을 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-289">Search for **connections**.</span></span>
3. <span data-ttu-id="93a09-290">**결과**에서 **연결**을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-290">In **Results**, select **Connections**.</span></span>
4. <span data-ttu-id="93a09-291">**연결**에서 **만들기**를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-291">On **Connection**, select **Create**.</span></span>
5. <span data-ttu-id="93a09-292">**연결 만들기**에서 다음 설정을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-292">On **Create Connection**, configure the following settings:</span></span>

    - <span data-ttu-id="93a09-293">**연결 형식**: 사이트 간 (IPSec)을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-293">**Connection type**: Select site-to-site (IPSec).</span></span>
    - <span data-ttu-id="93a09-294">**리소스 그룹**: 테스트 리소스 그룹을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-294">**Resource Group**: Select your test resource group.</span></span>
    - <span data-ttu-id="93a09-295">**Virtual Network Gateway**: 만든 가상 네트워크 게이트웨이를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-295">**Virtual Network Gateway**: Select the virtual network gateway you created.</span></span>
    - <span data-ttu-id="93a09-296">**로컬 네트워크 게이트웨이**: 만든 로컬 네트워크 게이트웨이를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-296">**Local Network Gateway**: Select the local network gateway you created.</span></span>
    - <span data-ttu-id="93a09-297">**연결 이름**:이 이름은 두 게이트웨이의 값을 사용 하 여 채워집니다 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-297">**Connection Name**: This name is autopopulated using the values from the two gateways.</span></span>
    - <span data-ttu-id="93a09-298">**공유 키**:이 값은 로컬 온-프레미스 VPN 장치에 사용 하는 값과 일치 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-298">**Shared Key**: This value must match the value that you're using for your local on-premises VPN device.</span></span> <span data-ttu-id="93a09-299">자습서 예제에서는 ' abc123 '를 사용 하지만 좀 더 복잡 한 항목을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-299">The tutorial example uses 'abc123', but you should use something more complex.</span></span> <span data-ttu-id="93a09-300">중요 한 것은이 값이 VPN 장치를 구성할 때 지정 하는 값과 동일 *해야* 한다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-300">The important thing is that this value *must* be the same value that you specify when configuring your VPN device.</span></span>
    - <span data-ttu-id="93a09-301">**구독**, **리소스 그룹** 및 **위치**에 대한 값이 고정됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-301">The values for **Subscription**, **Resource Group**, and **Location** are fixed.</span></span>

6. <span data-ttu-id="93a09-302">**확인** 을 선택 하 여 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-302">Select **OK** to create your connection.</span></span>

<span data-ttu-id="93a09-303">가상 네트워크 게이트웨이의 **연결 페이지에서 연결을** 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-303">You can see the connection in the **Connections** page of the virtual network gateway.</span></span> <span data-ttu-id="93a09-304">상태는 *알 수 없음* 에서 *연결 중*으로 전환 된 다음 *성공*으로 전환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="93a09-304">The status will go from *Unknown* to *Connecting*, and then to *Succeeded*.</span></span>

## <a name="next-steps"></a><span data-ttu-id="93a09-305">다음 단계</span><span class="sxs-lookup"><span data-stu-id="93a09-305">Next steps</span></span>

- <span data-ttu-id="93a09-306">Azure Cloud 패턴에 대해 자세히 알아보려면 [클라우드 디자인 패턴](https://docs.microsoft.com/azure/architecture/patterns)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="93a09-306">To learn more about Azure Cloud Patterns, see [Cloud Design Patterns](https://docs.microsoft.com/azure/architecture/patterns).</span></span>

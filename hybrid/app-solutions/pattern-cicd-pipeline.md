---
title: Azure Stack 허브의 DevOps 패턴
description: Azure 및 Azure Stack Hub의 배포 간에 일관성을 유지할 수 있도록 DevOps 패턴에 대해 알아봅니다.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 306cc9604a8e919724f9f76b7e5122d534d2d1ae
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911120"
---
# <a name="devops-pattern"></a>DevOps 패턴

단일 위치에서 코드를 작성 하 고, 로컬 데이터 센터, 사설 클라우드 또는 공용 클라우드에 있을 수 있는 개발, 테스트 및 프로덕션 환경에서 여러 대상에 배포 합니다.

## <a name="context-and-problem"></a>컨텍스트 및 문제점

응용 프로그램 배포 연속성, 보안 및 안정성은 조직에 필수적 이며 개발 팀이 중요 합니다.

앱은 일반적으로 각 대상 환경에서 실행 하기 위해 코드를 리팩터링 해야 합니다. 즉, 앱이 완전히 이식할 가능성이 없습니다. 이를 업데이트 하 고, 테스트 하 고, 각 환경에서 이동할 때 유효성을 검사 해야 합니다. 예를 들어 개발 환경에서 작성 된 코드는 테스트 환경에서 작동 하 고 최종적으로 프로덕션 환경에 있는 경우 다시 작성 하도록 다시 작성 해야 합니다. 또한이 코드는 구체적으로 호스트에 연결 됩니다. 이렇게 하면 앱을 유지 관리 하는 비용과 복잡성이 증가 합니다. 각 앱 버전은 각 환경에 연결 됩니다. 복잡성 및 중복은 보안과 코드 품질의 위험을 증가 시킵니다. 또한 실패 한 호스트 복원을 제거 하거나 추가 호스트를 배포 하 여 수요를 늘릴 때 코드를 즉시 재배포할 수 없습니다.

## <a name="solution"></a>해결 방법

DevOps 패턴을 사용 하면 여러 클라우드에서 실행 되는 앱을 빌드, 테스트 및 배포할 수 있습니다. 이 패턴은 지속적인 통합 및 지속적인 업데이트의 결합을 제공 합니다. 연속 통합을 사용 하면 팀 멤버가 버전 제어 변경 내용을 커밋할 때마다 코드가 빌드되고 테스트 됩니다. 지속적인 업데이트는 빌드에서 프로덕션 환경으로 각 단계를 자동화 합니다. 이러한 프로세스를 함께 통해 다양 한 환경에서 배포를 지 원하는 릴리스 프로세스를 만들 수 있습니다. 이 패턴을 사용 하 여 코드를 초안 한 다음 동일한 코드를 온-프레미스 환경, 다른 사설 클라우드 및 공용 클라우드에 배포할 수 있습니다. 환경의 차이점에는 코드를 변경 하는 대신 구성 파일을 변경 해야 합니다.

![DevOps 패턴](media/pattern-cicd-pipeline/hybrid-ci-cd.png)

온-프레미스, 사설 클라우드 및 공용 클라우드 환경에서 일관 된 개발 도구 집합을 사용 하 여 지속적인 통합 및 지속적인 업데이트를 구현할 수 있습니다. DevOps 패턴을 사용 하 여 배포 된 앱과 서비스는 교환할 수 있으며, 온-프레미스 및 공용 클라우드 기능과 기능을 활용 하 여 이러한 위치에서 실행할 수 있습니다.

DevOps 릴리스 파이프라인을 사용 하면 다음과 같은 작업을 할 수 있습니다.

- 단일 리포지토리에 대 한 코드 커밋을 기반으로 새 빌드를 시작 합니다.
- 사용자 승인 테스트를 위해 새로 빌드된 코드를 공용 클라우드에 자동으로 배포 합니다.
- 코드에서 테스트가 통과 되 면 사설 클라우드에 자동으로 배포 합니다.

## <a name="issues-and-considerations"></a>문제 및 고려 사항

DevOps 패턴은 대상 환경에 관계 없이 배포 간에 일관성을 유지 하기 위한 것입니다. 그러나 기능은 클라우드 및 온-프레미스 환경에서 다릅니다. 다음 사항을 고려합니다.

- 배포의 함수, 끝점, 서비스 및 기타 리소스를 대상 배포 위치에서 사용할 수 있나요?
- 구성 아티팩트가 여러 클라우드에서 액세스할 수 있는 위치에 저장 되나요?
- 배포 매개 변수는 모든 대상 환경에서 작동 하나요?
- 리소스 관련 속성은 모든 대상 클라우드에서 사용할 수 있나요?

자세한 내용은 [클라우드 일관성을 위한 Azure Resource Manager 템플릿 개발](https://docs.microsoft.com/azure/azure-resource-manager/templates-cloud-consistency)을 참조 하세요.

또한이 패턴을 구현 하는 방법을 결정할 때 다음 사항을 고려해 야 합니다.

### <a name="scalability"></a>확장성

배포 자동화 시스템은 DevOps 패턴의 핵심 제어 지점입니다. 구현은 다를 수 있습니다. 올바른 서버 크기를 선택 하는 것은 예상 된 워크 로드 크기에 따라 달라 집니다. Vm은 컨테이너 보다 크기를 조정 하는 데 더 많은 비용이 듭니다. 그러나 크기 조정을 위해 컨테이너를 사용하려면 컨테이너와 함께 빌드 프로세스를 실행해야 합니다.

### <a name="availability"></a>가용성

DevPattern의 컨텍스트에서 가용성은 테스트 결과, 코드 종속성 또는 기타 아티팩트와 같은 워크플로와 관련 된 모든 상태 정보를 복구할 수 있음을 의미 합니다. 가용성 요구 사항을 평가하려면 두 가지 공통 메트릭을 고려합니다.

- RTO (복구 시간 목표)는 시스템 없이 이동할 수 있는 시간을 지정 합니다.

- RPO (복구 지점 목표)는 서비스 중단이 시스템에 영향을 주는 경우 손실 될 수 있는 데이터 양을 나타냅니다.

실제로 RTO 및 RPO는 중복성 및 백업을 의미 합니다. 글로벌 Azure 클라우드에서는 Azure의 일부 이지만 DevOps 시스템의 상태를 유지 관리 하는 것을 확인 하는 것이 중요 하지 않습니다. Azure Stack 허브에서 하드웨어 복구를 고려할 수 있습니다.

배포 자동화에 사용 되는 시스템을 디자인할 때 고려해 야 할 또 다른 주요 사항은 액세스 제어 및 클라우드 환경에 서비스를 배포 하는 데 필요한 권한을 적절 하 게 관리 하는 것입니다. 배포를 생성, 삭제 또는 수정 하는 데 필요한 권한은 무엇 인가요? 예를 들어 Azure에서 리소스 그룹을 만들고 리소스 그룹에 서비스를 배포 하기 위해 일반적으로 하나의 권한 집합이 필요 합니다.

### <a name="manageability"></a>관리 효율

DevOps 패턴을 기반으로 하는 시스템의 디자인은 포트폴리오에서 각 서비스에 대 한 자동화, 로깅 및 경고를 고려해 야 합니다. 공유 서비스, 응용 프로그램 팀 또는 둘 다를 사용 하 고 보안 정책 및 관리도 추적 합니다.

프로덕션 환경 및 개발/테스트 환경을 Azure 또는 Azure Stack 허브의 별도 리소스 그룹에 배포 합니다. 그런 다음 각 환경의 리소스를 모니터링 하 고 리소스 그룹별 청구 비용을 롤업할 수 있습니다. 리소스를 하나의 집합으로 삭제할 수도 있습니다. 이러한 기능은 테스트 배포에서 유용합니다.

## <a name="when-to-use-this-pattern"></a>이 패턴을 사용해야 하는 경우

다음 경우에이 패턴을 사용 합니다.

- 개발자의 요구 사항을 충족 하는 한 환경에서 코드를 개발 하 고, 새 코드를 개발 하기 어려울 수 있는 솔루션 관련 환경에 배포할 수 있습니다.
- DevOps 패턴에서 지속적인 통합 및 지속적인 업데이트 프로세스를 수행할 수 있다면 개발자가 원하는 코드 및 도구를 사용할 수 있습니다.

이 패턴이 권장되지 않습니다.

- 인프라를 자동화할 수 없는 경우 리소스, 구성, id 및 보안 작업을 프로 비전 합니다.
- 팀이 하이브리드 클라우드 리소스에 액세스할 수 없는 경우 CI/CD (연속 통합/지속적인 개발) 접근 방식을 구현할 수 있습니다.

## <a name="next-steps"></a>다음 단계

이 문서에서 소개 하는 항목에 대 한 자세한 내용은 다음을 참조 하세요.

- Azure DevOps 및 Azure Pipelines를 Azure Repos 비롯 한 관련 도구에 대해 자세히 알아보려면 [Azure devops 설명서](/azure/devops) 를 참조 하세요.
- 제품 및 솔루션의 전체 포트폴리오에 대해 자세히 알아보려면 [Azure Stack 제품군 및 솔루션](/azure-stack) 을 참조 하세요.

솔루션 예제를 테스트할 준비가 되 면 [Devops 하이브리드 CI/CD 솔루션 배포 가이드](https://aka.ms/hybriddevopsdeploy)를 계속 진행 합니다. 배포 가이드에서는 구성 요소를 배포 및 테스트 하는 방법에 대 한 단계별 지침을 제공 합니다. 하이브리드 CI/CD (연속 통합/지속적인 업데이트) 파이프라인을 사용 하 여 Azure 및 Azure Stack 허브에 앱을 배포 하는 방법을 알아봅니다.
